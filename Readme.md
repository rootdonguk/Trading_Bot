# 코인 시뮬레이션 예시 (가격 변화 → 수익)

> 예시: 코인 가격 변화에 따른 자본 변화 시뮬레이션  
> 레버리지 20배, 수수료율 0.1% 기준

---

## 1️⃣ 단계별 시뮬레이션 테이블

| 스텝 | 가격 변화 ($) | 포지션 | 레버리지 | 수익 ($) | 수수료 ($) | 자본 후 ($) |
|------|---------------|--------|-----------|-----------|------------|-------------|
| 1    | 0.50          | LONG   | 20        | 10.00     | 0.01       | 109.99      |
| 2    | -0.30         | SHORT  | 20        | 659.94    | 0.66       | 769.27      |
| 3    | 1.00          | LONG   | 20        | 15385.40  | 15.39      | 16139.28    |
| 4    | -0.80         | SHORT  | 20        | 25822.05  | 25.82      | 41935.51    |
| 5    | 0.20          | LONG   | 20        | 16774.20  | 16.77      | 58792.94    |

> **설명**  
> - 가격 변화: 해당 스텝에서 코인 가격이 변한 값 ($)  
> - 포지션: LONG/SHORT  
> - 레버리지: 20배  
> - 수익 계산:  
>   - LONG: `수익 = 가격 변화 * 레버리지 * 이전 자본`  
>   - SHORT: `수익 = -가격 변화 * 레버리지 * 이전 자본`  
> - 수수료: `수수료 = |수익| * 0.1%`  
> - 자본 후: `이전 자본 + 수익 - 수수료`

---

## 2️⃣ 계산 방법 예시

```text
스텝 1 (LONG):
가격 변화 = 0.5$
이전 자본 = 100$
레버리지 = 20

수익 = 0.5 * 20 * 100 = 10$
수수료 = |10| * 0.001 = 0.01$
자본_after = 100 + 10 - 0.01 = 109.99$

스텝 2 (SHORT):
가격 변화 = -0.3$
이전 자본 = 109.99$
레버리지 = 20

수익 = -(-0.3) * 20 * 109.99 = 659.94$
수수료 = |659.94| * 0.001 ≈ 0.66$
자본_after = 109.99 + 659.94 - 0.66 ≈ 769.27$
